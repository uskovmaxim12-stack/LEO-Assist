<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEO ASSIST - –ü–∞–Ω–µ–ª—å —É—á–µ–Ω–∏–∫–∞</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞ */
        :root {
            --sidebar-width: 280px;
            --primary: #00c6ff;
            --primary-dark: #0072ff;
            --secondary: #ff6b9d;
            --accent: #00ff88;
            --dark: #0a0a0a;
            --dark-blue: #0a0a2a;
            --card-bg: rgba(15, 15, 30, 0.9);
            --card-border: rgba(0, 198, 255, 0.3);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', sans-serif;
        }
        
        body {
            background: var(--dark);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--dark-blue) 0%, var(--dark) 100%);
            z-index: -1;
        }
        
        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }
        
        /* ===== –°–ê–ô–î–ë–ê–† ===== */
        .sidebar {
            width: var(--sidebar-width);
            background: var(--card-bg);
            border-right: 1px solid var(--card-border);
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(20px);
            box-shadow: 5px 0 25px rgba(0, 0, 0, 0.3);
        }
        
        .sidebar-header {
            padding: 30px 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .user-avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
            border: 3px solid rgba(255, 255, 255, 0.2);
        }
        
        .user-info h3 {
            margin: 0 0 5px;
            font-size: 18px;
            font-weight: 600;
        }
        
        .user-class {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(0, 198, 255, 0.1);
            color: var(--primary);
            border-radius: 15px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .user-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat {
            text-align: center;
            padding: 15px 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s;
        }
        
        .stat:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-3px);
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 11px;
            color: #8a9bb2;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .sidebar-nav {
            flex: 1;
            padding: 25px 0;
            overflow-y: auto;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 25px;
            color: #8a9bb2;
            text-decoration: none;
            transition: all 0.3s;
            border-left: 4px solid transparent;
            margin: 5px 0;
            cursor: pointer;
        }
        
        .nav-item:hover {
            background: rgba(255, 255, 255, 0.05);
            color: white;
            border-left-color: rgba(0, 198, 255, 0.5);
        }
        
        .nav-item.active {
            background: rgba(0, 198, 255, 0.1);
            color: white;
            border-left-color: var(--primary);
        }
        
        .nav-item i {
            width: 20px;
            text-align: center;
            font-size: 18px;
        }
        
        .level-progress {
            padding: 25px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .progress-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--primary-dark));
            border-radius: 3px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .sidebar-footer {
            padding: 20px 25px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-around;
        }
        
        .btn-icon {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.07);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #8a9bb2;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .btn-icon:hover {
            background: rgba(255, 255, 255, 0.12);
            color: white;
            transform: translateY(-3px);
        }
        
        .btn-icon.logout:hover {
            background: rgba(255, 68, 68, 0.1);
            color: #ff4444;
        }
        
        /* ===== –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ ===== */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .main-header {
            padding: 25px 40px;
            background: rgba(15, 15, 30, 0.9);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(20px);
        }
        
        .header-left h1 {
            margin: 0 0 8px;
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .header-left p {
            margin: 0;
            color: #8a9bb2;
            font-size: 14px;
        }
        
        .datetime {
            text-align: right;
        }
        
        .datetime .time {
            font-size: 28px;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 2px;
        }
        
        .datetime .date {
            font-size: 14px;
            color: #8a9bb2;
        }
        
        /* ===== –ö–û–ù–¢–ï–ù–¢ ===== */
        .content-area {
            flex: 1;
            overflow-y: auto;
            padding: 30px 40px;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 25px;
        }
        
        .widget {
            background: rgba(20, 20, 35, 0.8);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
            backdrop-filter: blur(10px);
            transition: all 0.3s;
        }
        
        .widget:hover {
            border-color: rgba(0, 198, 255, 0.3);
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
        }
        
        .widget.large {
            grid-column: span 8;
        }
        
        .widget.medium {
            grid-column: span 4;
        }
        
        .widget.small {
            grid-column: span 3;
        }
        
        @media (max-width: 1200px) {
            .widget.large {
                grid-column: span 12;
            }
            .widget.medium {
                grid-column: span 6;
            }
            .widget.small {
                grid-column: span 4;
            }
        }
        
        .widget-header {
            padding: 25px 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .widget-header h3 {
            margin: 0;
            font-size: 18px;
            color: white;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .widget-body {
            padding: 30px;
        }
        
        /* –í–∏–¥–∂–µ—Ç: –°–µ–≥–æ–¥–Ω—è */
        .today-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .current-lesson {
            grid-column: span 2;
            background: rgba(0, 198, 255, 0.1);
            border: 1px solid rgba(0, 198, 255, 0.3);
            border-radius: 16px;
            padding: 25px;
        }
        
        .lesson-details {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }
        
        .lesson-details .subject {
            font-size: 22px;
            font-weight: 600;
            color: white;
        }
        
        .lesson-details .room {
            padding: 8px 16px;
            background: rgba(0, 198, 255, 0.2);
            color: var(--primary);
            border-radius: 12px;
            font-size: 14px;
            font-weight: 500;
        }
        
        /* –í–∏–¥–∂–µ—Ç: AI –ü–æ–º–æ—â–Ω–∏–∫ */
        .ai-chat {
            display: flex;
            flex-direction: column;
            height: 320px;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding-right: 10px;
            margin-bottom: 15px;
        }
        
        .message {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .message .avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            flex-shrink: 0;
        }
        
        .message.user .avatar {
            background: linear-gradient(135deg, var(--secondary), #ff2e6e);
        }
        
        .message .content {
            max-width: 70%;
            background: rgba(255, 255, 255, 0.07);
            padding: 15px;
            border-radius: 18px;
        }
        
        .message.user .content {
            background: rgba(0, 198, 255, 0.2);
        }
        
        .message .text {
            margin: 0;
            font-size: 14px;
            line-height: 1.4;
            color: white;
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
        }
        
        .chat-input input {
            flex: 1;
            padding: 14px 18px;
            background: rgba(255, 255, 255, 0.07);
            border: 2px solid transparent;
            border-radius: 12px;
            color: white;
            font-size: 14px;
        }
        
        .chat-input input:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .chat-input button {
            width: 50px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border: none;
            border-radius: 12px;
            color: white;
            cursor: pointer;
        }
        
        /* –í–∏–¥–∂–µ—Ç: –†–µ–π—Ç–∏–Ω–≥ */
        .rating-list {
            max-height: 240px;
            overflow-y: auto;
        }
        
        .rating-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            margin: 8px 0;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
        }
        
        .rating-item.current-user {
            background: rgba(0, 198, 255, 0.1);
        }
        
        .rating-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary), #ff2e6e);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            font-weight: bold;
        }
        
        /* –í–∏–¥–∂–µ—Ç: –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è */
        .quick-actions-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .quick-action {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            padding: 25px 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .quick-action:hover {
            background: rgba(0, 198, 255, 0.1);
            transform: translateY(-5px);
        }
        
        .quick-action i {
            font-size: 28px;
            color: var(--primary);
        }
        
        /* –í–∏–¥–∂–µ—Ç: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 16px;
        }
        
        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: rgba(0, 198, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: var(--primary);
        }
        
        .stat-data .value {
            font-size: 24px;
            font-weight: 700;
            color: white;
            margin-bottom: 3px;
        }
        
        /* –°–µ–∫—Ü–∏–∏ */
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .content-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .dashboard-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .widget.large,
            .widget.medium,
            .widget.small {
                grid-column: span 1;
            }
            
            .today-info {
                grid-template-columns: 1fr;
            }
            
            .current-lesson {
                grid-column: span 1;
            }
        }
    </style>
</head>
<body>
    <!-- –ß–∞—Å—Ç–∏—Ü—ã –Ω–∞ —Ñ–æ–Ω–µ -->
    <div id="particles-js"></div>
    
    <!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="dashboard-container">
        <!-- –°–∞–π–¥–±–∞—Ä -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="user-profile">
                    <div class="user-avatar" id="user-avatar">–õ–£</div>
                    <div class="user-info">
                        <h3 id="user-name">–ó–∞–≥—Ä—É–∑–∫–∞...</h3>
                        <span class="user-class">7–ë –∫–ª–∞—Å—Å</span>
                    </div>
                </div>
                
                <div class="user-stats">
                    <div class="stat">
                        <div class="stat-value" id="user-points">0</div>
                        <div class="stat-label">–û—á–∫–∏</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="user-level">1</div>
                        <div class="stat-label">–£—Ä–æ–≤–µ–Ω—å</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="user-rank">-</div>
                        <div class="stat-label">–ú–µ—Å—Ç–æ</div>
                    </div>
                </div>
            </div>
            
            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
            <nav class="sidebar-nav">
                <div class="nav-item active" onclick="switchSection('dashboard')">
                    <i class="fas fa-home"></i>
                    <span>–ì–ª–∞–≤–Ω–∞—è</span>
                </div>
                <div class="nav-item" onclick="switchSection('schedule')">
                    <i class="fas fa-calendar-alt"></i>
                    <span>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</span>
                </div>
                <div class="nav-item" onclick="switchSection('tasks')">
                    <i class="fas fa-tasks"></i>
                    <span>–ó–∞–¥–∞–Ω–∏—è</span>
                </div>
                <div class="nav-item" onclick="switchSection('ai')">
                    <i class="fas fa-robot"></i>
                    <span>AI –ü–æ–º–æ—â–Ω–∏–∫</span>
                </div>
                <div class="nav-item" onclick="switchSection('rating')">
                    <i class="fas fa-trophy"></i>
                    <span>–†–µ–π—Ç–∏–Ω–≥</span>
                </div>
                <div class="nav-item" onclick="switchSection('games')">
                    <i class="fas fa-gamepad"></i>
                    <span>–ò–≥—Ä—ã</span>
                </div>
            </nav>
            
            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å —É—Ä–æ–≤–Ω—è -->
            <div class="level-progress">
                <div class="progress-info">
                    <span>–î–æ —É—Ä–æ–≤–Ω—è <span id="next-level">2</span></span>
                    <span id="points-needed">1000 –æ—á–∫–æ–≤</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="level-progress-bar"></div>
                </div>
            </div>
            
            <!-- –§—É—Ç–µ—Ä —Å–∞–π–¥–±–∞—Ä–∞ -->
            <div class="sidebar-footer">
                <button class="btn-icon" title="–û–±–Ω–æ–≤–∏—Ç—å" onclick="loadUserData()">
                    <i class="fas fa-sync-alt"></i>
                </button>
                <button class="btn-icon logout" title="–í—ã–π—Ç–∏" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </aside>
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content">
            <!-- –®–∞–ø–∫–∞ -->
            <header class="main-header">
                <div class="header-left">
                    <h1 id="page-title">–ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å</h1>
                    <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Leo Assistant</p>
                </div>
                
                <div class="header-right">
                    <div class="datetime">
                        <div class="time" id="current-time">00:00</div>
                        <div class="date" id="current-date">1 —è–Ω–≤–∞—Ä—è 2024</div>
                    </div>
                </div>
            </header>
            
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
            <div class="content-area">
                <!-- –°–µ–∫—Ü–∏—è: –ì–ª–∞–≤–Ω–∞—è -->
                <section id="section-dashboard" class="content-section active">
                    <div class="dashboard-grid">
                        <!-- –í–∏–¥–∂–µ—Ç: –°–µ–≥–æ–¥–Ω—è -->
                        <div class="widget large">
                            <div class="widget-header">
                                <h3><i class="fas fa-sun"></i> –°–µ–≥–æ–¥–Ω—è</h3>
                                <span id="today-date"></span>
                            </div>
                            <div class="widget-body">
                                <div class="today-info">
                                    <div class="current-lesson">
                                        <div class="lesson-status">
                                            <span id="lesson-status-text">–ù–µ—Ç —É—Ä–æ–∫–∞</span>
                                        </div>
                                        <div class="lesson-details">
                                            <span class="subject" id="current-subject">–û—Ç–¥—ã—Ö</span>
                                            <span class="room" id="current-room">-</span>
                                        </div>
                                    </div>
                                    
                                    <div class="next-lesson">
                                        <h4>–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫:</h4>
                                        <div id="next-lesson-info">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- –í–∏–¥–∂–µ—Ç: AI –ü–æ–º–æ—â–Ω–∏–∫ -->
                        <div class="widget medium">
                            <div class="widget-header">
                                <h3><i class="fas fa-robot"></i> AI –ü–æ–º–æ—â–Ω–∏–∫</h3>
                                <span class="ai-status">Online</span>
                            </div>
                            <div class="widget-body">
                                <div class="ai-chat">
                                    <div class="chat-messages" id="chat-messages">
                                        <div class="message ai">
                                            <div class="avatar">ü§ñ</div>
                                            <div class="content">
                                                <div class="text">–ü—Ä–∏–≤–µ—Ç! –Ø –õ–µ–æ, –≤–∞—à –ø–æ–º–æ—â–Ω–∏–∫. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?</div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="chat-input">
                                        <input type="text" id="ai-input" placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å..." onkeypress="if(event.key === 'Enter') sendMessage()">
                                        <button onclick="sendMessage()">
                                            <i class="fas fa-paper-plane"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- –í–∏–¥–∂–µ—Ç: –†–µ–π—Ç–∏–Ω–≥ -->
                        <div class="widget medium">
                            <div class="widget-header">
                                <h3><i class="fas fa-trophy"></i> –†–µ–π—Ç–∏–Ω–≥ –∫–ª–∞—Å—Å–∞</h3>
                            </div>
                            <div class="widget-body">
                                <div class="rating-list" id="rating-list">
                                    <!-- –†–µ–π—Ç–∏–Ω–≥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- –í–∏–¥–∂–µ—Ç: –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
                        <div class="widget small">
                            <div class="widget-header">
                                <h3><i class="fas fa-bolt"></i> –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                            </div>
                            <div class="widget-body">
                                <div class="quick-actions-grid">
                                    <button class="quick-action" onclick="switchSection('schedule')">
                                        <i class="fas fa-calendar"></i>
                                        <span>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</span>
                                    </button>
                                    <button class="quick-action" onclick="switchSection('tasks')">
                                        <i class="fas fa-tasks"></i>
                                        <span>–ó–∞–¥–∞–Ω–∏—è</span>
                                    </button>
                                    <button class="quick-action" onclick="switchSection('ai')">
                                        <i class="fas fa-robot"></i>
                                        <span>AI –ü–æ–º–æ—â–Ω–∏–∫</span>
                                    </button>
                                    <button class="quick-action" onclick="switchSection('games')">
                                        <i class="fas fa-gamepad"></i>
                                        <span>–ò–≥—Ä—ã</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- –í–∏–¥–∂–µ—Ç: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                        <div class="widget small">
                            <div class="widget-header">
                                <h3><i class="fas fa-chart-bar"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                            </div>
                            <div class="widget-body">
                                <div class="stats-grid">
                                    <div class="stat-item">
                                        <div class="stat-icon"><i class="fas fa-check-circle"></i></div>
                                        <div class="stat-data">
                                            <div class="value" id="stat-completed">0</div>
                                            <div class="label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
                                        </div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-icon"><i class="fas fa-fire"></i></div>
                                        <div class="stat-data">
                                            <div class="value" id="stat-streak">0</div>
                                            <div class="label">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- –°–µ–∫—Ü–∏—è: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ -->
                <section id="section-schedule" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-calendar-alt"></i> –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ 7–ë –∫–ª–∞—Å—Å–∞</h2>
                    </div>
                    <div class="schedule-container" id="schedule-container">
                        <!-- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                    </div>
                </section>
                
                <!-- –°–µ–∫—Ü–∏—è: –ó–∞–¥–∞–Ω–∏—è -->
                <section id="section-tasks" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-tasks"></i> –ú–æ–∏ –∑–∞–¥–∞–Ω–∏—è</h2>
                        <button class="btn-primary" onclick="addTask()">
                            <i class="fas fa-plus"></i> –ù–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ
                        </button>
                    </div>
                    <div class="tasks-list" id="tasks-list">
                        <!-- –ó–∞–¥–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                    </div>
                </section>
                
                <!-- –°–µ–∫—Ü–∏—è: –ò–≥—Ä—ã -->
                <section id="section-games" class="content-section">
                    <div class="section-header">
                        <h2><i class="fas fa-gamepad"></i> –û–±—É—á–∞—é—â–∏–µ –∏–≥—Ä—ã</h2>
                    </div>
                    <div class="games-grid" id="games-grid">
                        <!-- –ò–≥—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                    </div>
                </section>
            </div>
        </main>
    </div>
    
    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <script src="./js/particles.min.js"></script>
    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        checkAuth();
        
        function checkAuth() {
            const session = localStorage.getItem('leo_session');
            if (!session) {
                window.location.href = 'index.html';
                return;
            }
            
            try {
                window.currentUser = JSON.parse(session);
                initDashboard();
            } catch (e) {
                localStorage.removeItem('leo_session');
                window.location.href = 'index.html';
            }
        }
        
        function initDashboard() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–∞—Å—Ç–∏—Ü
            particlesJS('particles-js', {
                particles: {
                    number: { value: 60, density: { enable: true, value_area: 800 } },
                    color: { value: ["#00c6ff", "#0072ff"] },
                    shape: { type: "circle" },
                    opacity: { value: 0.3, random: true },
                    size: { value: 3, random: true },
                    line_linked: {
                        enable: true,
                        distance: 150,
                        color: "#00c6ff",
                        opacity: 0.2,
                        width: 1
                    },
                    move: { enable: true, speed: 1.5, direction: "none", random: true }
                }
            });
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            loadUserData();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
            updateDateTime();
            setInterval(updateDateTime, 60000);
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
            loadSchedule();
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞
            loadRating();
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä
            loadGames();
            
            console.log('‚úÖ –î–∞—à–±–æ—Ä–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è:', window.currentUser.fullname);
        }
        
        function loadUserData() {
            const user = window.currentUser;
            
            // –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            document.getElementById('user-name').textContent = user.fullname;
            document.getElementById('user-avatar').textContent = user.avatar || '–õ–£';
            
            // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            document.getElementById('user-points').textContent = user.points || 0;
            document.getElementById('user-level').textContent = user.level || 1;
            document.getElementById('user-rank').textContent = calculateRank();
            
            // –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            document.getElementById('stat-completed').textContent = user.completedTasks || 0;
            document.getElementById('stat-streak').textContent = user.streak || 0;
            
            // –ü—Ä–æ–≥—Ä–µ—Å—Å —É—Ä–æ–≤–Ω—è
            const level = user.level || 1;
            const points = user.points || 0;
            const pointsForLevel = level * 1000;
            const progress = Math.min(100, (points / pointsForLevel) * 100);
            
            document.getElementById('level-progress-bar').style.width = `${progress}%`;
            document.getElementById('next-level').textContent = level + 1;
            document.getElementById('points-needed').textContent = `${pointsForLevel - points} –æ—á–∫–æ–≤`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π —É—Ä–æ–∫
            updateCurrentLesson();
        }
        
        function calculateRank() {
            const users = JSON.parse(localStorage.getItem('leo_users') || '[]');
            const activeStudents = users
                .filter(u => u.active && u.role === 'student')
                .sort((a, b) => (b.points || 0) - (a.points || 0));
            
            const rank = activeStudents.findIndex(u => u.id === window.currentUser.id) + 1;
            return rank > 0 ? rank : '-';
        }
        
        function updateDateTime() {
            const now = new Date();
            
            // –í—Ä–µ–º—è
            document.getElementById('current-time').textContent = 
                now.toLocaleTimeString('ru-RU', {hour: '2-digit', minute:'2-digit'});
            
            // –î–∞—Ç–∞
            document.getElementById('current-date').textContent = 
                now.toLocaleDateString('ru-RU', {day: 'numeric', month: 'long', year: 'numeric'});
            
            // –î–∞—Ç–∞ –¥–ª—è –≤–∏–¥–∂–µ—Ç–∞ "–°–µ–≥–æ–¥–Ω—è"
            document.getElementById('today-date').textContent = 
                now.toLocaleDateString('ru-RU', { weekday: 'long' });
        }
        
        function updateCurrentLesson() {
            const now = new Date();
            const hour = now.getHours();
            const minute = now.getMinutes();
            const currentTime = hour * 60 + minute;
            
            // –ü—Ä–æ—Å—Ç–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–∫–∞
            if (hour >= 8 && hour < 14) {
                document.getElementById('lesson-status-text').textContent = '–£—Ç—Ä–µ–Ω–Ω–∏–µ –∑–∞–Ω—è—Ç–∏—è';
                document.getElementById('current-subject').textContent = '–£—Ä–æ–∫–∏';
                document.getElementById('current-room').textContent = '–ö–ª–∞—Å—Å—ã';
                document.getElementById('next-lesson-info').textContent = '14:00 - –î–Ω–µ–≤–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è';
            } else if (hour >= 14 && hour < 18) {
                document.getElementById('lesson-status-text').textContent = '–î–Ω–µ–≤–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è';
                document.getElementById('current-subject').textContent = '–£—Ä–æ–∫–∏';
                document.getElementById('current-room').textContent = '–ö–ª–∞—Å—Å—ã';
                document.getElementById('next-lesson-info').textContent = '18:00 - –í–µ—á–µ—Ä–Ω–∏–µ –∑–∞–Ω—è—Ç–∏—è';
            } else {
                document.getElementById('lesson-status-text').textContent = '–ù–µ—Ç —É—Ä–æ–∫–∞';
                document.getElementById('current-subject').textContent = '–û—Ç–¥—ã—Ö';
                document.getElementById('current-room').textContent = '-';
                document.getElementById('next-lesson-info').textContent = '–ó–∞–≤—Ç—Ä–∞ —Å 8:00';
            }
        }
        
        function loadSchedule() {
            const container = document.getElementById('schedule-container');
            if (!container) return;
            
            // –†–ï–ê–õ–¨–ù–û–ï –†–ê–°–ü–ò–°–ê–ù–ò–ï 7–ë –ö–õ–ê–°–°–ê
            const schedule = {
                monday: [
                    { time: "13:10-13:50", subject: "–ò—Å—Ç–æ—Ä–∏—è", room: "16 –ö–∞–±" },
                    { time: "14:00-14:40", subject: "–†–∞–∑–≥–æ–≤–æ—Ä—ã –æ –≤–∞–∂–Ω–æ–º", room: "21 –ö–∞–±" },
                    { time: "14:50-15:30", subject: "–ë–∏–æ–ª–æ–≥–∏—è", room: "21 –ö–∞–±" },
                    { time: "15:40-16:20", subject: "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫", room: "32 –ö–∞–±" },
                    { time: "16:30-17:10", subject: "–¢—Ä—É–¥", room: "6 –ö–∞–±" },
                    { time: "17:15-17:55", subject: "–¢—Ä—É–¥", room: "6 –ö–∞–±" },
                    { time: "18:00-18:40", subject: "–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞", room: "32 –ö–∞–±" }
                ],
                tuesday: [
                    { time: "13:10-13:50", subject: "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞-–ø–ª", room: "42 –ö–∞–±" },
                    { time: "14:00-14:40", subject: "–ò—Å—Ç–æ—Ä–∏—è", room: "16 –ö–∞–±" },
                    { time: "14:50-15:30", subject: "–ò–ó–û", room: "6 –ö–∞–±" },
                    { time: "15:40-16:20", subject: "–ê–ª–≥–µ–±—Ä–∞", room: "34 –ö–∞–±" },
                    { time: "16:30-17:10", subject: "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫", room: "32 –ö–∞–±" },
                    { time: "17:15-17:55", subject: "–§–∏–∑-—Ä–∞", room: "–°–ó" },
                    { time: "18:00-18:40", subject: "–ì–µ–æ–º–µ—Ç—Ä–∏—è", room: "34 –ö–∞–±" }
                ],
                wednesday: [
                    { time: "13:10-13:50", subject: "–§–∏–∑–∏–∫–∞", room: "35 –ö–∞–±" },
                    { time: "14:00-14:40", subject: "–ò—Å—Ç–æ—Ä–∏—è", room: "16 –ö–∞–±" },
                    { time: "14:50-15:30", subject: "–§–∏–∑-—Ä–∞", room: "–°–ó" },
                    { time: "15:40-16:20", subject: "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫", room: "32 –ö–∞–±" },
                    { time: "16:30-17:10", subject: "–§–∏–∑–∏–∫–∞", room: "35 –ö–∞–±" },
                    { time: "17:15-17:55", subject: "–ì–µ–æ–≥—Ä–∞—Ñ–∏—è", room: "22 –ö–∞–±" },
                    { time: "18:00-18:40", subject: "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫-–ø–ª", room: "32 –ö–∞–±" }
                ]
            };
            
            const days = [
                { key: 'monday', name: '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫' },
                { key: 'tuesday', name: '–í—Ç–æ—Ä–Ω–∏–∫' },
                { key: 'wednesday', name: '–°—Ä–µ–¥–∞' },
                { key: 'thursday', name: '–ß–µ—Ç–≤–µ—Ä–≥' },
                { key: 'friday', name: '–ü—è—Ç–Ω–∏—Ü–∞' },
                { key: 'saturday', name: '–°—É–±–±–æ—Ç–∞' }
            ];
            
            let html = '<div class="days-grid">';
            
            days.forEach(day => {
                const lessons = schedule[day.key] || [];
                
                html += `
                    <div class="day-card">
                        <h3>${day.name}</h3>
                        <div class="lessons-list">
                `;
                
                if (lessons.length > 0) {
                    lessons.forEach(lesson => {
                        html += `
                            <div class="lesson">
                                <span class="time">${lesson.time}</span>
                                <span class="subject">${lesson.subject}</span>
                                <span class="room">${lesson.room}</span>
                            </div>
                        `;
                    });
                } else {
                    html += `<div class="no-lessons">–ù–µ—Ç –∑–∞–Ω—è—Ç–∏–π</div>`;
                }
                
                html += `
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }
        
        function loadRating() {
            const container = document.getElementById('rating-list');
            if (!container) return;
            
            const users = JSON.parse(localStorage.getItem('leo_users') || '[]');
            const activeStudents = users
                .filter(u => u.active && u.role === 'student')
                .sort((a, b) => (b.points || 0) - (a.points || 0))
                .slice(0, 5);
            
            if (activeStudents.length === 0) {
                container.innerHTML = '<p>–ü–æ–∫–∞ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–µ–Ω–∏–∫–æ–≤</p>';
                return;
            }
            
            let html = '';
            activeStudents.forEach((user, index) => {
                const isCurrent = user.id === window.currentUser.id;
                const medal = index < 3 ? ['ü•á', 'ü•à', 'ü•â'][index] : `${index + 1}.`;
                
                html += `
                    <div class="rating-item ${isCurrent ? 'current-user' : ''}">
                        <div class="rating-rank">${medal}</div>
                        <div class="rating-avatar">${user.avatar}</div>
                        <div class="rating-info">
                            <div class="rating-name">${user.fullname}</div>
                            <div class="rating-points">${user.points || 0} –æ—á–∫–æ–≤</div>
                        </div>
                        ${isCurrent ? '<span class="you-badge">–í—ã</span>' : ''}
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function loadGames() {
            const container = document.getElementById('games-grid');
            if (!container) return;
            
            const games = [
                {
                    id: 1,
                    name: "–ê–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–∏–π –≤—ã–∑–æ–≤",
                    description: "–†–µ—à–∞–π—Ç–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è 7 –∫–ª–∞—Å—Å–∞",
                    icon: "üßÆ",
                    color: "#00c6ff"
                },
                {
                    id: 2,
                    name: "–ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π –≥–µ–Ω–∏–π",
                    description: "–ó–∞–¥–∞—á–∏ –ø–æ –≥–µ–æ–º–µ—Ç—Ä–∏–∏ 7 –∫–ª–∞—Å—Å–∞",
                    icon: "üìê",
                    color: "#ff6b9d"
                },
                {
                    id: 3,
                    name: "–§–∏–∑–∏—á–µ—Å–∫–∏–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç",
                    description: "–ó–∞–¥–∞—á–∏ –ø–æ —Ñ–∏–∑–∏–∫–µ 7 –∫–ª–∞—Å—Å–∞",
                    icon: "‚ö°",
                    color: "#ffcc00"
                },
                {
                    id: 4,
                    name: "–•–∏–º–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–∫—Ü–∏—è",
                    description: "–•–∏–º–∏—è 7 –∫–ª–∞—Å—Å–∞",
                    icon: "üß™",
                    color: "#00ff88"
                }
            ];
            
            let html = '';
            games.forEach(game => {
                html += `
                    <div class="game-card" style="border-color: ${game.color}">
                        <div class="game-icon">${game.icon}</div>
                        <h3>${game.name}</h3>
                        <p>${game.description}</p>
                        <button class="play-btn" onclick="startGame(${game.id})">
                            <i class="fas fa-play"></i> –ò–≥—Ä–∞—Ç—å
                        </button>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function sendMessage() {
            const input = document.getElementById('ai-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            addMessage(message, 'user');
            input.value = '';
            
            // –û—Ç–≤–µ—Ç AI
            setTimeout(() => {
                const responses = [
                    "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –Ø –µ—â—ë —É—á—É—Å—å, –Ω–æ —Å–∫–æ—Ä–æ —Å–º–æ–≥—É –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Ç–∞–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã.",
                    "–°–µ–π—á–∞—Å –ø—Ä–æ–≤–µ—Ä—é —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –≤–∞—Å.",
                    "–≠—Ç–æ —Ö–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å! –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º—Å—è –≤–º–µ—Å—Ç–µ.",
                    "–Ø –º–æ–≥—É –ø–æ–º–æ—á—å —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –∏ –∑–∞–¥–∞–Ω–∏—è–º–∏. –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?",
                    "–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —É—á–∏—Ç–µ–ª—é –ø–æ —ç—Ç–æ–º—É –ø—Ä–µ–¥–º–µ—Ç—É."
                ];
                
                const response = responses[Math.floor(Math.random() * responses.length)];
                addMessage(response, 'ai');
            }, 1000);
        }
        
        function addMessage(text, sender) {
            const container = document.getElementById('chat-messages');
            const message = document.createElement('div');
            
            message.className = `message ${sender}`;
            message.innerHTML = `
                <div class="avatar">${sender === 'user' ? window.currentUser.avatar : 'ü§ñ'}</div>
                <div class="content">
                    <div class="text">${text}</div>
                </div>
            `;
            
            container.appendChild(message);
            container.scrollTop = container.scrollHeight;
        }
        
        function switchSection(section) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å–µ–∫—Ü–∏–∏
            document.querySelectorAll('.content-section').forEach(sec => {
                sec.classList.remove('active');
            });
            
            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å–µ–∫—Ü–∏—é
            document.getElementById(`section-${section}`).classList.add('active');
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
            event.target.closest('.nav-item').classList.add('active');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
            const titles = {
                'dashboard': '–ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å',
                'schedule': '–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ',
                'tasks': '–ú–æ–∏ –∑–∞–¥–∞–Ω–∏—è',
                'ai': 'AI –ü–æ–º–æ—â–Ω–∏–∫',
                'rating': '–†–µ–π—Ç–∏–Ω–≥ –∫–ª–∞—Å—Å–∞',
                'games': '–û–±—É—á–∞—é—â–∏–µ –∏–≥—Ä—ã'
            };
            
            document.getElementById('page-title').textContent = titles[section] || section;
        }
        
        function addTask() {
            const title = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è:');
            if (!title) return;
            
            const tasks = JSON.parse(localStorage.getItem('leo_tasks') || '[]');
            
            const newTask = {
                id: Date.now(),
                userId: window.currentUser.id,
                title: title,
                completed: false,
                createdAt: new Date().toISOString()
            };
            
            tasks.push(newTask);
            localStorage.setItem('leo_tasks', JSON.stringify(tasks));
            
            alert('–ó–∞–¥–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ!');
            loadTasks();
        }
        
        function loadTasks() {
            const container = document.getElementById('tasks-list');
            if (!container) return;
            
            const tasks = JSON.parse(localStorage.getItem('leo_tasks') || '[]');
            const userTasks = tasks.filter(t => t.userId === window.currentUser.id);
            
            if (userTasks.length === 0) {
                container.innerHTML = '<p>–ù–µ—Ç –∑–∞–¥–∞–Ω–∏–π</p>';
                return;
            }
            
            let html = '';
            userTasks.forEach(task => {
                html += `
                    <div class="task ${task.completed ? 'completed' : ''}">
                        <input type="checkbox" ${task.completed ? 'checked' : ''} 
                               onchange="toggleTask(${task.id})">
                        <span>${task.title}</span>
                        <button onclick="deleteTask(${task.id})">√ó</button>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function toggleTask(taskId) {
            const tasks = JSON.parse(localStorage.getItem('leo_tasks') || '[]');
            const task = tasks.find(t => t.id === taskId);
            
            if (task) {
                task.completed = !task.completed;
                
                // –ù–∞—á–∏—Å–ª—è–µ–º –æ—á–∫–∏ –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
                if (task.completed) {
                    window.currentUser.points = (window.currentUser.points || 0) + 100;
                    localStorage.setItem('leo_session', JSON.stringify(window.currentUser));
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –≤ –±–∞–∑–µ
                    const users = JSON.parse(localStorage.getItem('leo_users') || '[]');
                    const userIndex = users.findIndex(u => u.id === window.currentUser.id);
                    if (userIndex !== -1) {
                        users[userIndex].points = window.currentUser.points;
                        localStorage.setItem('leo_users', JSON.stringify(users));
                    }
                }
                
                localStorage.setItem('leo_tasks', JSON.stringify(tasks));
                loadUserData();
            }
        }
        
        function deleteTask(taskId) {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ?')) return;
            
            const tasks = JSON.parse(localStorage.getItem('leo_tasks') || '[]');
            const filteredTasks = tasks.filter(t => t.id !== taskId);
            
            localStorage.setItem('leo_tasks', JSON.stringify(filteredTasks));
            loadTasks();
        }
        
        function startGame(gameId) {
            alert(`–ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã ${gameId}. –ò–≥—Ä–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!`);
        }
        
        function logout() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?')) {
                localStorage.removeItem('leo_session');
                window.location.href = 'index.html';
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            // –£–∂–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –≤ checkAuth()
        });
    </script>
</body>
</html>
